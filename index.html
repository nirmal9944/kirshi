<!DOCTYPE html>
<html lang="ne">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡§ó‡§£‡•ç‡§°‡§ï‡•Ä ‡§ï‡•É‡§∑‡§ø ‡§≤‡•ã‡§ï‡§∏‡•á‡§µ‡§æ ‚Äî ‡§§‡§Ø‡§æ‡§∞‡•Ä ‡§ï‡•á‡§®‡•ç‡§¶‡•ç‡§∞</title>
<link href="https://fonts.googleapis.com/css2?family=Tiro+Devanagari+Hindi:ital@0;1&family=Plus+Jakarta+Sans:wght@300;400;600;700;800&display=swap" rel="stylesheet">

<style>
:root {
  --soil:       #1a0f00;
  --earth:      #2d1a00;
  --bark:       #3d2b00;
  --moss:       #2d5a1b;
  --leaf:       #4a8c2a;
  --sprout:     #7ac142;
  --neon:       #aaff44;
  --gold:       #f5c842;
  --amber:      #ff9800;
  --sky:        #a8d8ea;
  --cream:      #fdf6e3;
  --text:       #e8f5e0;
  --muted:      rgba(232,245,224,0.5);
  --card:       rgba(255,255,255,0.055);
  --border:     rgba(170,255,68,0.15);
  --glow:       rgba(170,255,68,0.25);
}

* { box-sizing: border-box; margin: 0; padding: 0; }

html { scroll-behavior: smooth; }

body {
  font-family: 'Plus Jakarta Sans', sans-serif;
  background: var(--soil);
  color: var(--text);
  min-height: 100vh;
  overflow-x: hidden;
  cursor: default;
}

/* ‚îÄ‚îÄ ANIMATED FIELD BG ‚îÄ‚îÄ */
.bg-canvas {
  position: fixed; inset: 0; z-index: 0; overflow: hidden; pointer-events: none;
}
.bg-canvas::before {
  content: '';
  position: absolute; inset: 0;
  background:
    radial-gradient(ellipse 90% 60% at 10% 90%, rgba(45,90,27,0.35) 0%, transparent 60%),
    radial-gradient(ellipse 70% 50% at 90% 10%, rgba(74,140,42,0.2) 0%, transparent 55%),
    radial-gradient(ellipse 50% 40% at 50% 50%, rgba(29,15,0,0.6) 0%, transparent 80%);
  animation: bgShift 12s ease-in-out infinite alternate;
}
@keyframes bgShift {
  0%   { opacity: 0.8; transform: scale(1); }
  100% { opacity: 1;   transform: scale(1.05); }
}

/* Grain texture */
.bg-canvas::after {
  content: '';
  position: absolute; inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");
  opacity: 0.4;
}

/* Floating particles */
.particle {
  position: fixed;
  font-size: 18px;
  pointer-events: none;
  animation: rise linear infinite;
  opacity: 0;
}
@keyframes rise {
  0%   { transform: translateY(110vh) rotate(0deg);   opacity: 0; }
  8%   { opacity: 0.18; }
  92%  { opacity: 0.18; }
  100% { transform: translateY(-10vh) rotate(720deg); opacity: 0; }
}

/* ‚îÄ‚îÄ LAYOUT ‚îÄ‚îÄ */
.page { position: relative; z-index: 1; max-width: 480px; margin: 0 auto; padding: 0 18px 100px; }

/* ‚îÄ‚îÄ TOP NAV ‚îÄ‚îÄ */
nav {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 18px 0 10px;
  border-bottom: 1px solid var(--border);
  margin-bottom: 6px;
  animation: fadeDown 0.6s ease both;
}
.nav-logo {
  font-family: 'Tiro Devanagari Hindi', serif;
  font-size: 15px;
  color: var(--neon);
  text-shadow: 0 0 20px rgba(170,255,68,0.5);
  line-height: 1.3;
}
.nav-logo span { display: block; font-size: 10px; color: var(--muted); font-family: 'Plus Jakarta Sans', sans-serif; letter-spacing: 1.5px; text-transform: uppercase; }
.nav-right { display: flex; align-items: center; gap: 10px; }
.streak-pill {
  background: rgba(245,200,66,0.12);
  border: 1px solid rgba(245,200,66,0.3);
  color: var(--gold);
  font-size: 12px;
  font-weight: 700;
  padding: 5px 12px;
  border-radius: 20px;
}
.avatar {
  width: 36px; height: 36px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--moss), var(--sprout));
  display: flex; align-items: center; justify-content: center;
  font-size: 16px;
  border: 2px solid var(--border);
}

/* ‚îÄ‚îÄ HERO ‚îÄ‚îÄ */
.hero {
  padding: 28px 0 20px;
  animation: fadeUp 0.7s 0.1s ease both;
}
.hero-greeting {
  font-size: 12px;
  color: var(--muted);
  letter-spacing: 2px;
  text-transform: uppercase;
  margin-bottom: 8px;
}
.hero-title {
  font-family: 'Tiro Devanagari Hindi', serif;
  font-size: 28px;
  line-height: 1.35;
  color: #fff;
  margin-bottom: 6px;
}
.hero-title em {
  font-style: normal;
  color: var(--neon);
  text-shadow: 0 0 25px rgba(170,255,68,0.4);
}
.hero-sub { font-size: 13px; color: var(--muted); line-height: 1.6; }

/* ‚îÄ‚îÄ TODAY'S GOAL CARD ‚îÄ‚îÄ */
.goal-card {
  background: linear-gradient(135deg, rgba(74,140,42,0.25) 0%, rgba(45,90,27,0.2) 100%);
  border: 1px solid rgba(122,193,66,0.3);
  border-radius: 20px;
  padding: 18px;
  margin: 20px 0;
  position: relative;
  overflow: hidden;
  animation: fadeUp 0.7s 0.2s ease both;
}
.goal-card::before {
  content: 'üåæ';
  position: absolute;
  right: -10px; top: -10px;
  font-size: 70px;
  opacity: 0.08;
  transform: rotate(15deg);
}
.goal-top { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 14px; }
.goal-label { font-size: 11px; letter-spacing: 2px; text-transform: uppercase; color: var(--muted); margin-bottom: 4px; }
.goal-title { font-size: 15px; font-weight: 700; color: #fff; }
.goal-score {
  font-size: 28px; font-weight: 800; color: var(--neon);
  text-shadow: 0 0 20px rgba(170,255,68,0.4);
  line-height: 1;
}
.goal-score span { font-size: 13px; color: var(--muted); font-weight: 400; }
.goal-bar-wrap { height: 6px; background: rgba(255,255,255,0.1); border-radius: 6px; overflow: hidden; margin-bottom: 10px; }
.goal-bar {
  height: 100%;
  background: linear-gradient(90deg, var(--leaf), var(--neon));
  border-radius: 6px;
  box-shadow: 0 0 12px rgba(170,255,68,0.4);
  transition: width 1.2s cubic-bezier(.2,.8,.3,1);
}
.goal-stats { display: flex; gap: 14px; }
.gs { font-size: 12px; color: var(--muted); }
.gs b { color: var(--text); }

/* ‚îÄ‚îÄ SECTION TITLE ‚îÄ‚îÄ */
.section-title {
  font-size: 11px;
  letter-spacing: 2.5px;
  text-transform: uppercase;
  color: var(--muted);
  margin: 26px 0 12px;
  display: flex;
  align-items: center;
  gap: 10px;
}
.section-title::after { content: ''; flex: 1; height: 1px; background: var(--border); }

/* ‚îÄ‚îÄ MAIN MENU CARDS ‚îÄ‚îÄ */
.menu-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  animation: fadeUp 0.7s 0.3s ease both;
}

.menu-card {
  position: relative;
  border-radius: 22px;
  padding: 20px 16px;
  text-decoration: none;
  color: var(--text);
  overflow: hidden;
  cursor: pointer;
  transition: transform 0.25s cubic-bezier(.2,.8,.3,1), box-shadow 0.25s;
  display: flex;
  flex-direction: column;
  min-height: 150px;
  border: 1px solid transparent;
}
.menu-card:hover { transform: translateY(-5px) scale(1.02); }
.menu-card:active { transform: scale(0.97); }

.menu-card.quiz {
  background: linear-gradient(145deg, #1a4a0a 0%, #2d7a1a 100%);
  border-color: rgba(122,193,66,0.4);
  box-shadow: 0 8px 32px rgba(45,122,26,0.4);
  grid-column: 1 / -1;
  min-height: 130px;
  flex-direction: row;
  align-items: center;
  gap: 16px;
}
.menu-card.quiz:hover { box-shadow: 0 16px 50px rgba(45,122,26,0.6); }

.menu-card.written {
  background: linear-gradient(145deg, #2a1a00 0%, #5a3800 100%);
  border-color: rgba(245,200,66,0.3);
  box-shadow: 0 8px 32px rgba(90,56,0,0.4);
}
.menu-card.report {
  background: linear-gradient(145deg, #001a2a 0%, #003a5a 100%);
  border-color: rgba(168,216,234,0.25);
  box-shadow: 0 8px 32px rgba(0,58,90,0.4);
}
.menu-card.syllabus {
  background: linear-gradient(145deg, #1a002a 0%, #3a005a 100%);
  border-color: rgba(200,150,255,0.25);
  box-shadow: 0 8px 32px rgba(58,0,90,0.4);
  grid-column: 1 / -1;
}
.menu-card.daily {
  background: linear-gradient(145deg, #2a1a00 0%, #5a2800 100%);
  border-color: rgba(255,152,0,0.3);
  box-shadow: 0 8px 32px rgba(90,40,0,0.4);
  grid-column: 1 / -1;
}

.card-icon {
  font-size: 36px;
  flex-shrink: 0;
  filter: drop-shadow(0 0 12px rgba(255,255,255,0.2));
}
.menu-card.quiz .card-icon { font-size: 48px; }

.card-body { flex: 1; }
.card-tag {
  font-size: 10px;
  letter-spacing: 2px;
  text-transform: uppercase;
  opacity: 0.5;
  margin-bottom: 4px;
}
.card-name {
  font-family: 'Tiro Devanagari Hindi', serif;
  font-size: 17px;
  font-weight: 700;
  color: #fff;
  margin-bottom: 5px;
  line-height: 1.3;
}
.menu-card.quiz .card-name { font-size: 20px; }
.card-desc { font-size: 12px; opacity: 0.6; line-height: 1.5; }
.card-arrow {
  position: absolute;
  bottom: 14px; right: 16px;
  width: 28px; height: 28px;
  background: rgba(255,255,255,0.1);
  border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-size: 12px;
  transition: all 0.2s;
}
.menu-card:hover .card-arrow { background: rgba(255,255,255,0.2); transform: translateX(2px); }

/* Badge on card */
.card-badge {
  position: absolute;
  top: 14px; right: 14px;
  background: var(--neon);
  color: #000;
  font-size: 9px;
  font-weight: 800;
  letter-spacing: 1px;
  padding: 3px 8px;
  border-radius: 10px;
  text-transform: uppercase;
}
.card-badge.gold { background: var(--gold); }
.card-badge.sky { background: var(--sky); }
.card-badge.amber { background: var(--amber); }

/* ‚îÄ‚îÄ QUICK STATS STRIP ‚îÄ‚îÄ */
.stats-strip {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  animation: fadeUp 0.7s 0.4s ease both;
}
.stat-box {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 14px 10px;
  text-align: center;
}
.stat-box .sv { font-size: 22px; font-weight: 800; color: var(--neon); display: block; line-height: 1; margin-bottom: 3px; }
.stat-box .sl { font-size: 11px; color: var(--muted); }

/* ‚îÄ‚îÄ RECENT ACTIVITY ‚îÄ‚îÄ */
.activity-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
  animation: fadeUp 0.7s 0.5s ease both;
}
.activity-item {
  display: flex;
  align-items: center;
  gap: 12px;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 14px;
  cursor: pointer;
  transition: all 0.2s;
}
.activity-item:hover { background: rgba(255,255,255,0.08); transform: translateX(4px); }
.act-icon {
  width: 40px; height: 40px;
  border-radius: 12px;
  display: flex; align-items: center; justify-content: center;
  font-size: 18px;
  flex-shrink: 0;
}
.act-icon.green { background: rgba(74,140,42,0.25); }
.act-icon.gold  { background: rgba(245,200,66,0.15); }
.act-icon.blue  { background: rgba(168,216,234,0.15); }
.act-info { flex: 1; }
.act-title { font-size: 13px; font-weight: 600; color: #fff; margin-bottom: 2px; }
.act-sub   { font-size: 11px; color: var(--muted); }
.act-score { font-size: 14px; font-weight: 800; color: var(--neon); }

/* ‚îÄ‚îÄ MOTIVATIONAL QUOTE ‚îÄ‚îÄ */
.quote-card {
  background: linear-gradient(135deg, rgba(45,90,27,0.2), rgba(74,140,42,0.1));
  border: 1px solid rgba(122,193,66,0.2);
  border-radius: 18px;
  padding: 18px;
  text-align: center;
  animation: fadeUp 0.7s 0.6s ease both;
  position: relative;
  overflow: hidden;
}
.quote-card::before {
  content: '"';
  position: absolute;
  left: 10px; top: -20px;
  font-size: 120px;
  font-family: serif;
  color: rgba(170,255,68,0.06);
  line-height: 1;
}
.quote-text {
  font-family: 'Tiro Devanagari Hindi', serif;
  font-size: 14px;
  line-height: 1.8;
  color: rgba(255,255,255,0.8);
  margin-bottom: 8px;
}
.quote-author { font-size: 11px; color: var(--muted); letter-spacing: 1px; }

/* ‚îÄ‚îÄ BOTTOM NAV ‚îÄ‚îÄ */
.bottom-nav {
  position: fixed;
  bottom: 0; left: 50%;
  transform: translateX(-50%);
  width: 100%;
  max-width: 480px;
  background: rgba(15, 8, 0, 0.92);
  border-top: 1px solid var(--border);
  backdrop-filter: blur(20px);
  display: flex;
  justify-content: space-around;
  padding: 10px 0 16px;
  z-index: 100;
}
.bnav-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  text-decoration: none;
  color: var(--muted);
  font-size: 10px;
  letter-spacing: 0.5px;
  transition: all 0.2s;
  padding: 4px 16px;
  border-radius: 12px;
  cursor: pointer;
}
.bnav-item.active { color: var(--neon); }
.bnav-item:hover  { color: var(--text); }
.bnav-icon { font-size: 20px; }
.bnav-dot {
  width: 5px; height: 5px;
  background: var(--neon);
  border-radius: 50%;
  margin: 0 auto;
  display: none;
}
.bnav-item.active .bnav-dot { display: block; }

/* ‚îÄ‚îÄ MODAL (Report Preview) ‚îÄ‚îÄ */
.modal-overlay {
  position: fixed; inset: 0;
  background: rgba(0,0,0,0.75);
  backdrop-filter: blur(6px);
  z-index: 200;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s;
}
.modal-overlay.open { opacity: 1; pointer-events: all; }
.modal-sheet {
  width: 100%;
  max-width: 480px;
  background: #1a0f00;
  border-top: 1px solid var(--border);
  border-radius: 28px 28px 0 0;
  padding: 24px 20px 40px;
  transform: translateY(100%);
  transition: transform 0.4s cubic-bezier(.2,.8,.3,1);
  max-height: 85vh;
  overflow-y: auto;
}
.modal-overlay.open .modal-sheet { transform: translateY(0); }
.modal-handle {
  width: 40px; height: 4px;
  background: rgba(255,255,255,0.15);
  border-radius: 2px;
  margin: 0 auto 20px;
}
.modal-title {
  font-family: 'Tiro Devanagari Hindi', serif;
  font-size: 20px;
  color: #fff;
  margin-bottom: 18px;
}
.report-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 0;
  border-bottom: 1px solid var(--border);
  font-size: 13px;
}
.report-row:last-child { border-bottom: none; }
.report-row .rl { color: var(--muted); }
.report-row .rv { font-weight: 700; color: #fff; }
.report-empty { text-align: center; padding: 30px; color: var(--muted); font-size: 14px; }

/* ‚îÄ‚îÄ ANIMATIONS ‚îÄ‚îÄ */
@keyframes fadeUp   { from { opacity:0; transform:translateY(24px); } to { opacity:1; transform:translateY(0); } }
@keyframes fadeDown { from { opacity:0; transform:translateY(-16px); } to { opacity:1; transform:translateY(0); } }

/* Pulse glow on quiz card */
.menu-card.quiz::after {
  content: '';
  position: absolute;
  inset: -1px;
  border-radius: 22px;
  background: linear-gradient(135deg, rgba(122,193,66,0.2), transparent 60%);
  animation: cardGlow 3s ease-in-out infinite alternate;
}
@keyframes cardGlow {
  0%   { opacity: 0.5; }
  100% { opacity: 1; }
}

/* Scroll indicator */
.scroll-hint {
  text-align: center;
  font-size: 11px;
  color: var(--muted);
  padding: 8px 0;
  animation: bounce 2s infinite;
}
@keyframes bounce {
  0%,100% { transform: translateY(0); }
  50%      { transform: translateY(4px); }
}
</style>
</head>
<body>

<!-- Background -->
<div class="bg-canvas"></div>
<div id="particleLayer"></div>

<div class="page">

  <!-- NAV -->
  <nav>
    <div class="nav-logo">
      üåæ ‡§ó‡§£‡•ç‡§°‡§ï‡•Ä ‡§ï‡•É‡§∑‡§ø ‡§≤‡•ã‡§ï‡§∏‡•á‡§µ‡§æ
      <span>Preparation Hub ‚Ä¢ 2082</span>
    </div>
    <div class="nav-right">
      <div class="streak-pill" id="streakPill">üî• 0 Days</div>
      <div class="avatar">üë®‚Äçüåæ</div>
    </div>
  </nav>

  <!-- HERO -->
  <div class="hero">
    <div class="hero-greeting" id="greeting">‡§®‡§Æ‡§∏‡•ç‡§ï‡§æ‡§∞ üôè</div>
    <h1 class="hero-title">
      <em>‡•™‡§•‡•ã ‡§§‡§π ‡§ï‡•É‡§∑‡§ø</em> ‡§ï‡•ã<br>‡§§‡§Ø‡§æ‡§∞‡•Ä ‡§ó‡§∞‡•å‡§Å!
    </h1>
    <p class="hero-sub">‡§ó‡§£‡•ç‡§°‡§ï‡•Ä ‡§™‡•ç‡§∞‡§¶‡•á‡§∂ ‡§≤‡•ã‡§ï‡§∏‡•á‡§µ‡§æ ‡§Ü‡§Ø‡•ã‡§ó ‚Ä¢ ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§§‡§Ø‡§æ‡§∞‡•Ä ‡§™‡•ç‡§≤‡•á‡§ü‡§´‡§∞‡•ç‡§Æ</p>
  </div>

  <!-- TODAY'S GOAL CARD -->
  <div class="goal-card">
    <div class="goal-top">
      <div>
        <div class="goal-label">‡§Ü‡§ú‡§ï‡•ã ‡§™‡•ç‡§∞‡§ó‡§§‡§ø</div>
        <div class="goal-title">‡§¶‡•à‡§®‡§ø‡§ï ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø: ‡•´‡•¶ MCQ</div>
      </div>
      <div>
        <div class="goal-score" id="goalScore">0 <span>/ 50</span></div>
      </div>
    </div>
    <div class="goal-bar-wrap">
      <div class="goal-bar" id="goalBar" style="width: 0%"></div>
    </div>
    <div class="goal-stats">
      <div class="gs">‚úÖ ‡§∏‡§π‡•Ä: <b id="gs-correct">0</b></div>
      <div class="gs">‚ùå ‡§ó‡§≤‡§§: <b id="gs-wrong">0</b></div>
      <div class="gs">üìù ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ‡§π‡§∞‡•Ç: <b id="gs-total">0</b></div>
    </div>
  </div>

  <!-- MAIN MENU -->
  <div class="section-title">‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§µ‡§ø‡§≠‡§æ‡§ó‡§π‡§∞‡•Ç</div>

  <div class="menu-grid">

    <!-- QUIZ -->
    <div class="menu-card quiz" onclick="navigate('gandaki_krishi_quiz.html')">
      <div class="card-badge">HOT üî•</div>
      <div class="card-icon">üéØ</div>
      <div class="card-body">
        <div class="card-tag">MCQ Practice</div>
        <div class="card-name">‡§ï‡•ç‡§µ‡§ø‡§ú ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ</div>
        <div class="card-desc">‡•´‡•¶ MCQ ‚Ä¢ ‡§®‡§ï‡§æ‡§∞‡§æ‡§§‡•ç‡§Æ‡§ï ‡§Ö‡§Ç‡§ï ‚Ä¢ Timer ‡§∏‡§π‡§ø‡§§</div>
      </div>
      <div class="card-arrow">‚Üí</div>
    </div>

    <!-- WRITTEN EXAM -->
    <div class="menu-card written" onclick="navigate('written.html')">
      <div class="card-badge gold">NEW</div>
      <div class="card-icon">‚úçÔ∏è</div>
      <div class="card-body">
        <div class="card-tag">Subjective</div>
        <div class="card-name">‡§≤‡§ø‡§ñ‡§ø‡§§ ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ</div>
        <div class="card-desc">‡§¶‡•Ä‡§∞‡•ç‡§ò ‡§â‡§§‡•ç‡§§‡§∞ ‡§∞ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£</div>
      </div>
      <div class="card-arrow">‚Üí</div>
    </div>

    <!-- REPORT -->
    <div class="menu-card report" onclick="openReport()">
      <div class="card-badge sky">LIVE</div>
      <div class="card-icon">üìä</div>
      <div class="card-body">
        <div class="card-tag">Analytics</div>
        <div class="card-name">‡§Æ‡•á‡§∞‡•ã ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü</div>
        <div class="card-desc">‡§™‡•ç‡§∞‡§ó‡§§‡§ø ‡§∞ ‡§á‡§§‡§ø‡§π‡§æ‡§∏ ‡§π‡•á‡§∞‡•ç‡§®‡•Å‡§∏‡•ç</div>
      </div>
      <div class="card-arrow">‚Üí</div>
    </div>

    <!-- SYLLABUS -->
    <div class="menu-card syllabus" onclick="navigate('syllabus.html')">
      <div class="card-icon">üìö</div>
      <div class="card-body">
        <div class="card-tag">Curriculum</div>
        <div class="card-name">‡§™‡§æ‡§†‡•ç‡§Ø‡§ï‡•ç‡§∞‡§Æ</div>
        <div class="card-desc">‡§µ‡§ø‡§∑‡§Ø‡§µ‡§æ‡§∞ ‡§™‡§æ‡§†‡•ç‡§Ø‡§ï‡•ç‡§∞‡§Æ ‡§π‡•á‡§∞‡•ç‡§®‡•Å‡§∏‡•ç</div>
      </div>
      <div class="card-arrow">‚Üí</div>
    </div>

    <!-- DAILY CHALLENGE -->
    <div class="menu-card daily" onclick="navigate('gandaki_krishi_quiz.html')">
      <div class="card-icon">‚ö°</div>
      <div class="card-body">
        <div class="card-tag">Daily Challenge</div>
        <div class="card-name">‡§Ü‡§ú‡§ï‡•ã ‡§ö‡•Å‡§®‡•å‡§§‡•Ä</div>
        <div class="card-desc">‡§π‡§∞‡•á‡§ï ‡§¶‡§ø‡§® ‡§®‡§Ø‡§æ‡§Å ‡§™‡•ç‡§∞‡§∂‡•ç‡§®‡§π‡§∞‡•Ç ‚Ä¢ Streak ‡§ï‡§Æ‡§æ‡§â‡§®‡•Å‡§∏‡•ç üî•</div>
      </div>
      <div class="card-arrow">‚Üí</div>
    </div>

  </div>

  <!-- QUICK STATS -->
  <div class="section-title">‡§ï‡•Å‡§≤ ‡§§‡§•‡•ç‡§Ø‡§æ‡§Ç‡§ï</div>
  <div class="stats-strip">
    <div class="stat-box"><span class="sv" id="statAttempted">0</span><span class="sl">‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏</span></div>
    <div class="stat-box"><span class="sv" id="statAccuracy">0%</span><span class="sl">Accuracy</span></div>
    <div class="stat-box"><span class="sv" id="statBest">0</span><span class="sl">Best Score</span></div>
  </div>

  <!-- RECENT ACTIVITY -->
  <div class="section-title">‡§π‡§æ‡§≤‡§∏‡§æ‡§≤‡•à‡§ï‡•ã ‡§ó‡§§‡§ø‡§µ‡§ø‡§ß‡§ø</div>
  <div class="activity-list" id="activityList">
    <div style="text-align:center;padding:24px;color:var(--muted);font-size:14px;">
      ‡§Ö‡§ù‡§∏‡§Æ‡•ç‡§Æ ‡§ï‡•Å‡§®‡•à ‡§ó‡§§‡§ø‡§µ‡§ø‡§ß‡§ø ‡§õ‡•à‡§®‡•§<br>
      <span style="font-size:12px;">‡§ï‡•ç‡§µ‡§ø‡§ú ‡§∏‡•Å‡§∞‡•Å ‡§ó‡§∞‡•á‡§∞ ‡§∏‡•Å‡§∞‡•Å‡§µ‡§æ‡§§ ‡§ó‡§∞‡•ç‡§®‡•Å‡§∏‡•ç! üå±</span>
    </div>
  </div>

  <!-- MOTIVATIONAL QUOTE -->
  <div class="section-title">‡§™‡•ç‡§∞‡•á‡§∞‡§£‡§æ‡§¶‡§æ‡§Ø‡•Ä ‡§â‡§¶‡•ç‡§ß‡§∞‡§£</div>
  <div class="quote-card">
    <div class="quote-text" id="quoteText">‡§Æ‡•á‡§π‡§®‡§§ ‡§®‡§ó‡§∞‡•Ä ‡§∏‡§´‡§≤‡§§‡§æ ‡§™‡§æ‡§á‡§Å‡§¶‡•à‡§®‡•§ ‡§π‡§∞‡•á‡§ï ‡§¶‡§ø‡§®‡§ï‡•ã ‡§Ö‡§≠‡•ç‡§Ø‡§æ‡§∏‡§≤‡•á ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø‡§Æ‡§æ ‡§™‡•Å‡§∞‡•ç‚Äç‡§Ø‡§æ‡§â‡§Å‡§õ‡•§</div>
    <div class="quote-author">‚Äî ‡§ó‡§£‡•ç‡§°‡§ï‡•Ä ‡§ï‡•É‡§∑‡§ø ‡§≤‡•ã‡§ï‡§∏‡•á‡§µ‡§æ ‡§§‡§Ø‡§æ‡§∞‡•Ä</div>
  </div>
  <div class="scroll-hint">‚Üì ‡§§‡§≤ ‡§∏‡•ç‡§ï‡•ç‡§∞‡•ã‡§≤ ‡§ó‡§∞‡•ç‡§®‡•Å‡§∏‡•ç</div>

</div>

<!-- BOTTOM NAV -->
<div class="bottom-nav">
  <div class="bnav-item active" onclick="navigate('home.html')">
    <div class="bnav-icon">üè†</div>
    <div>Home</div>
    <div class="bnav-dot"></div>
  </div>
  <div class="bnav-item" onclick="navigate('gandaki_krishi_quiz.html')">
    <div class="bnav-icon">üéØ</div>
    <div>Quiz</div>
    <div class="bnav-dot"></div>
  </div>
  <div class="bnav-item" onclick="navigate('written.html')">
    <div class="bnav-icon">‚úçÔ∏è</div>
    <div>Written</div>
    <div class="bnav-dot"></div>
  </div>
  <div class="bnav-item" onclick="openReport()">
    <div class="bnav-icon">üìä</div>
    <div>Report</div>
    <div class="bnav-dot"></div>
  </div>
  <div class="bnav-item" onclick="navigate('syllabus.html')">
    <div class="bnav-icon">üìö</div>
    <div>Syllabus</div>
    <div class="bnav-dot"></div>
  </div>
</div>

<!-- REPORT MODAL -->
<div class="modal-overlay" id="reportModal" onclick="closeReport(event)">
  <div class="modal-sheet">
    <div class="modal-handle"></div>
    <div class="modal-title">üìä ‡§Æ‡•á‡§∞‡•ã ‡§µ‡§ø‡§∏‡•ç‡§§‡•É‡§§ ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü</div>
    <div id="reportContent"></div>
  </div>
</div>

<script>
/* ‚îÄ‚îÄ‚îÄ PARTICLES ‚îÄ‚îÄ‚îÄ */
const icons = ['üåæ','üå±','üçÉ','üåø','ü™¥','üåª','üåΩ','ü•¶','üçÖ','ü•ï','üåæ','üçÉ'];
const pl = document.getElementById('particleLayer');
for (let i = 0; i < 18; i++) {
  const p = document.createElement('div');
  p.className = 'particle';
  p.textContent = icons[i % icons.length];
  p.style.left = (Math.random() * 100) + '%';
  p.style.animationDuration = (10 + Math.random() * 14) + 's';
  p.style.animationDelay = (Math.random() * 12) + 's';
  p.style.fontSize = (12 + Math.random() * 14) + 'px';
  pl.appendChild(p);
}

/* ‚îÄ‚îÄ‚îÄ GREETING ‚îÄ‚îÄ‚îÄ */
const hr = new Date().getHours();
document.getElementById('greeting').textContent =
  hr < 12 ? 'üåÖ ‡§∂‡•Å‡§≠‡§™‡•ç‡§∞‡§≠‡§æ‡§§!' :
  hr < 17 ? '‚òÄÔ∏è ‡§®‡§Æ‡§∏‡•ç‡§ï‡§æ‡§∞!' :
  hr < 21 ? 'üåÜ ‡§∂‡•Å‡§≠‡§∏‡§®‡•ç‡§ß‡•ç‡§Ø‡§æ!' : 'üåô ‡§∂‡•Å‡§≠‡§∞‡§æ‡§§‡•ç‡§∞‡§ø!';

/* ‚îÄ‚îÄ‚îÄ QUOTES ‚îÄ‚îÄ‚îÄ */
const quotes = [
  '‡§Æ‡•á‡§π‡§®‡§§ ‡§®‡§ó‡§∞‡•Ä ‡§∏‡§´‡§≤‡§§‡§æ ‡§™‡§æ‡§á‡§Å‡§¶‡•à‡§®‡•§ ‡§π‡§∞‡•á‡§ï ‡§¶‡§ø‡§®‡§ï‡•ã ‡§Ö‡§≠‡•ç‡§Ø‡§æ‡§∏‡§≤‡•á ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø‡§Æ‡§æ ‡§™‡•Å‡§∞‡•ç‚Äç‡§Ø‡§æ‡§â‡§Å‡§õ‡•§',
  '‡§è‡§ï-‡§è‡§ï ‡§•‡•ã‡§™‡§æ ‡§™‡§æ‡§®‡•Ä‡§≤‡•á ‡§∏‡§Æ‡•Å‡§¶‡•ç‡§∞ ‡§¨‡§®‡•ç‡§õ‡•§ ‡§è‡§ï-‡§è‡§ï ‡§™‡•ç‡§∞‡§∂‡•ç‡§®‡§≤‡•á ‡§∏‡§´‡§≤‡§§‡§æ ‡§Æ‡§ø‡§≤‡•ç‡§õ‡•§',
  '‡§Ö‡§∏‡§´‡§≤‡§§‡§æ ‡§∏‡§´‡§≤‡§§‡§æ‡§ï‡•ã ‡§∏‡§ø‡§Å‡§¢‡•Ä ‡§π‡•ã‡•§ ‡§π‡§ø‡§Æ‡•ç‡§Æ‡§§ ‡§®‡§π‡§æ‡§∞, ‡§Ö‡§ó‡§æ‡§°‡§ø ‡§¨‡§¢‡•§',
  '‡§Ü‡§ú ‡§ó‡§∞‡•á‡§ï‡•ã ‡§Æ‡•á‡§π‡§®‡§§ ‡§≠‡•ã‡§≤‡§ø ‡§´‡§≤ ‡§¶‡§ø‡§®‡•ç‡§õ‡•§ ‡§≤‡•ã‡§ï‡§∏‡•á‡§µ‡§æ ‡§§‡§Ø‡§æ‡§∞‡•Ä‡§Æ‡§æ ‡§®‡§ø‡§∞‡§®‡•ç‡§§‡§∞ ‡§≤‡§æ‡§ó‡•ç‡§®‡•Å‡§∏‡•ç‡•§',
  '‡§ú‡•ç‡§û‡§æ‡§® ‡§®‡•à ‡§∂‡§ï‡•ç‡§§‡§ø ‡§π‡•ã‡•§ ‡§™‡§¢‡•ç‡§®‡•Å‡§∏‡•ç, ‡§¨‡•Å‡§ù‡•ç‡§®‡•Å‡§∏‡•ç, ‡§∏‡§´‡§≤ ‡§π‡•Å‡§®‡•Å‡§∏‡•ç‡•§',
];
document.getElementById('quoteText').textContent = quotes[Math.floor(Math.random() * quotes.length)];

/* ‚îÄ‚îÄ‚îÄ LOCAL STORAGE KEYS ‚îÄ‚îÄ‚îÄ */
const LS = {
  HISTORY: 'krishi_quiz_history',
  STREAK:  'krishi_streak',
  LAST:    'krishi_last_date',
  TODAY:   'krishi_today',
};

/* ‚îÄ‚îÄ‚îÄ STREAK LOGIC ‚îÄ‚îÄ‚îÄ */
function updateStreak() {
  const today = new Date().toDateString();
  const last  = localStorage.getItem(LS.LAST);
  let streak  = parseInt(localStorage.getItem(LS.STREAK) || '0');
  if (last !== today) {
    const yesterday = new Date(); yesterday.setDate(yesterday.getDate() - 1);
    if (last === yesterday.toDateString()) {
      streak++;
    } else if (!last) {
      streak = 1;
    } else {
      streak = 1; // reset
    }
    localStorage.setItem(LS.STREAK, streak);
    localStorage.setItem(LS.LAST, today);
  }
  document.getElementById('streakPill').textContent = `üî• ${streak} Day${streak !== 1 ? 's' : ''}`;
}
updateStreak();

/* ‚îÄ‚îÄ‚îÄ LOAD STATS FROM LOCALSTORAGE ‚îÄ‚îÄ‚îÄ */
function loadStats() {
  const history = JSON.parse(localStorage.getItem(LS.HISTORY) || '[]');
  const today   = new Date().toDateString();
  const todayData = JSON.parse(localStorage.getItem(LS.TODAY + today) || '{"q":0,"c":0,"w":0}');

  // Goal bar
  const attempted = todayData.q || 0;
  const pct = Math.min(100, (attempted / 50) * 100);
  document.getElementById('goalScore').innerHTML = `${attempted} <span>/ 50</span>`;
  document.getElementById('goalBar').style.width = pct + '%';
  document.getElementById('gs-correct').textContent = todayData.c || 0;
  document.getElementById('gs-wrong').textContent   = todayData.w || 0;
  document.getElementById('gs-total').textContent   = history.length;

  // Overall stats
  let totalQ = 0, totalC = 0, bestScore = 0;
  history.forEach(h => {
    totalQ += h.total || 0;
    totalC += h.correct || 0;
    if ((h.marks || 0) > bestScore) bestScore = h.marks;
  });
  const accuracy = totalQ > 0 ? Math.round(totalC / totalQ * 100) : 0;
  document.getElementById('statAttempted').textContent = history.length;
  document.getElementById('statAccuracy').textContent  = accuracy + '%';
  document.getElementById('statBest').textContent      = bestScore;

  // Recent activity
  if (history.length > 0) {
    const list = document.getElementById('activityList');
    list.innerHTML = '';
    const recent = [...history].reverse().slice(0, 4);
    recent.forEach(h => {
      const acc = h.total > 0 ? Math.round(h.correct / h.total * 100) : 0;
      const icon = h.type === 'quiz' ? 'üéØ' : h.type === 'written' ? '‚úçÔ∏è' : 'üìä';
      const cls  = h.type === 'quiz' ? 'green' : h.type === 'written' ? 'gold' : 'blue';
      list.innerHTML += `
        <div class="activity-item">
          <div class="act-icon ${cls}">${icon}</div>
          <div class="act-info">
            <div class="act-title">${h.name || 'Quiz Session'}</div>
            <div class="act-sub">${h.date} ‚Ä¢ ${h.correct}/${h.total} ‡§∏‡§π‡•Ä ‚Ä¢ ${acc}% Accuracy</div>
          </div>
          <div class="act-score">${h.marks >= 0 ? '+' : ''}${h.marks}</div>
        </div>`;
    });
  }
}
loadStats();

/* ‚îÄ‚îÄ‚îÄ NAVIGATE ‚îÄ‚îÄ‚îÄ */
function navigate(url) {
  window.location.href = url;
}

/* ‚îÄ‚îÄ‚îÄ REPORT MODAL ‚îÄ‚îÄ‚îÄ */
function openReport() {
  const modal = document.getElementById('reportModal');
  const history = JSON.parse(localStorage.getItem(LS.HISTORY) || '[]');
  const streak  = parseInt(localStorage.getItem(LS.STREAK) || '0');
  const content = document.getElementById('reportContent');

  if (history.length === 0) {
    content.innerHTML = `<div class="report-empty">üì≠ ‡§Ö‡§ù‡§∏‡§Æ‡•ç‡§Æ ‡§ï‡•Å‡§®‡•à ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§¶‡§ø‡§®‡•Å‡§≠‡§è‡§ï‡•ã ‡§õ‡•à‡§®‡•§<br><br><button onclick="navigate('gandaki_krishi_quiz.html')" style="background:var(--sprout);color:#000;border:none;padding:10px 22px;border-radius:12px;font-size:14px;font-weight:700;cursor:pointer;">‡§ï‡•ç‡§µ‡§ø‡§ú ‡§∏‡•Å‡§∞‡•Å ‡§ó‡§∞‡•ç‡§®‡•Å‡§∏‡•ç ‚ñ∂</button></div>`;
  } else {
    let totalQ = 0, totalC = 0, totalW = 0, bestMarks = 0;
    history.forEach(h => { totalQ += h.total || 0; totalC += h.correct || 0; totalW += h.wrong || 0; if ((h.marks || 0) > bestMarks) bestMarks = h.marks; });
    const accuracy = totalQ > 0 ? Math.round(totalC / totalQ * 100) : 0;

    let rows = `
      <div class="report-row"><span class="rl">‡§ï‡•Å‡§≤ ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ‡§π‡§∞‡•Ç</span><span class="rv">${history.length}</span></div>
      <div class="report-row"><span class="rl">‡§ï‡•Å‡§≤ ‡§™‡•ç‡§∞‡§∂‡•ç‡§®‡§π‡§∞‡•Ç ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏</span><span class="rv">${totalQ}</span></div>
      <div class="report-row"><span class="rl">‚úÖ ‡§ï‡•Å‡§≤ ‡§∏‡§π‡•Ä</span><span class="rv" style="color:var(--neon)">${totalC}</span></div>
      <div class="report-row"><span class="rl">‚ùå ‡§ï‡•Å‡§≤ ‡§ó‡§≤‡§§</span><span class="rv" style="color:#ff5252">${totalW}</span></div>
      <div class="report-row"><span class="rl">üéØ Accuracy</span><span class="rv">${accuracy}%</span></div>
      <div class="report-row"><span class="rl">üèÜ ‡§∏‡§∞‡•ç‡§µ‡•ã‡§ö‡•ç‡§ö ‡§Ö‡§Ç‡§ï</span><span class="rv" style="color:var(--gold)">${bestMarks}</span></div>
      <div class="report-row"><span class="rl">üî• Streak</span><span class="rv">${streak} ‡§¶‡§ø‡§®</span></div>
      <div style="margin-top:16px;font-size:11px;letter-spacing:2px;color:var(--muted);text-transform:uppercase;margin-bottom:10px;">‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§á‡§§‡§ø‡§π‡§æ‡§∏</div>`;

    const recent = [...history].reverse().slice(0, 10);
    recent.forEach((h, i) => {
      rows += `<div class="report-row">
        <span class="rl">#${history.length - i} ‚Äî ${h.date}<br><small>${h.name || 'Quiz'}</small></span>
        <span class="rv">${h.marks} ‡§Ö‡§Ç‡§ï (${h.correct}/${h.total})</span>
      </div>`;
    });

    rows += `<br><button onclick="clearHistory()" style="width:100%;background:rgba(255,82,82,0.15);border:1px solid rgba(255,82,82,0.3);color:#ff5252;padding:12px;border-radius:12px;font-size:13px;font-weight:700;cursor:pointer;">üóë ‡§∏‡§¨‡•à ‡§°‡§æ‡§ü‡§æ ‡§Æ‡•á‡§ü‡§æ‡§â‡§®‡•Å‡§∏‡•ç</button>`;
    content.innerHTML = rows;
  }

  modal.classList.add('open');
}

function closeReport(e) {
  if (e.target === e.currentTarget) {
    document.getElementById('reportModal').classList.remove('open');
  }
}

function clearHistory() {
  if (confirm('‡§ï‡•á ‡§§‡§™‡§æ‡§à‡§Ç ‡§∏‡§æ‡§Å‡§ö‡•ç‡§ö‡§ø‡§ï‡•à ‡§∏‡§¨‡•à ‡§°‡§æ‡§ü‡§æ ‡§Æ‡•á‡§ü‡§æ‡§â‡§® ‡§ö‡§æ‡§π‡§®‡•Å‡§π‡•Å‡§®‡•ç‡§õ?')) {
    localStorage.removeItem(LS.HISTORY);
    localStorage.removeItem(LS.STREAK);
    localStorage.removeItem(LS.LAST);
    document.getElementById('reportModal').classList.remove('open');
    loadStats();
    updateStreak();
    alert('‚úÖ ‡§∏‡§¨‡•à ‡§°‡§æ‡§ü‡§æ ‡§Æ‡•á‡§ü‡§æ‡§á‡§Ø‡•ã‡•§');
  }
}

/* ‚îÄ‚îÄ‚îÄ DEMO DATA INJECTION (for first-time users to see UI) ‚îÄ‚îÄ‚îÄ */
// Uncomment below to add demo data for testing:
/*
if (!localStorage.getItem(LS.HISTORY)) {
  const demo = [
    { name:'Quiz Session', date:'Mon Feb 24 2026', type:'quiz', total:50, correct:38, wrong:8, marks:36.4 },
    { name:'Quiz Session', date:'Sun Feb 23 2026', type:'quiz', total:50, correct:31, wrong:12, marks:28.6 },
    { name:'Written Practice', date:'Sat Feb 22 2026', type:'written', total:20, correct:15, wrong:4, marks:14.2 },
  ];
  localStorage.setItem(LS.HISTORY, JSON.stringify(demo));
  loadStats();
}
*/
</script>

</body>
</html>
